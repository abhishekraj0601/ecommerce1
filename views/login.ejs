<%- include('partials/header.ejs') %>
<section style="height: 80px; background: royalblue;"></section>
    <section id="form">

        <div id="login">
            <div class="login-left d-flex align-items-center flex-column justify-content-center gap-5">
                <img src="https://colorlib.com/etc/regform/colorlib-regform-7/images/signin-image.jpg" alt="">
                <!-- <a href="#">create an account</a> -->
                <button class="btn text-dark" id="log-in" style="background: none;" >create an account <hr style="margin: 0; opacity: 1;"></button>

            </div>
            <div class="login-right p-5">
                <h1 style="font-weight: 700;">LOGIN</h1>
                <form action="/login" method="post" class="d-flex flex-column gap-3 mt-4">
                    <div class="form-group " style="position: relative;">
                        <div class="d-flex align-items-center">
                            <label for="username"><i class="fa-solid fa-user"></i></label>
                            <input type="text" name="username" class="usernum1" placeholder="Username" required>
                        </div>
                        <small class="mx-3 m-0 username-suggestion1" style="position: absolute; font-size: 11px;display: none;"></small>
                    </div>
                    <div class="form-group d-flex align-items-center">
                        <label for="password"><i class="fa-solid fa-lock"></i></label>
                        <input type="password" name="password" id="loginpassword"  placeholder="password" required>
                    </div>
                    <div class="container d-flex gap-2 p-0 " >
                        <input type="checkbox" name="" onclick="myFunction()" id="" class="chekbox show-password" style="width: 15px;" >
                        <label for="show password" > show password</label>
                    </div>

                    <button class="mt-4"> login</button>
                </form>
                <div class="container p-0 mt-4"> 
                    <a href="/forget" class="forget"> forget password ?</a>
                 </div>
                 <hr>
                <div class="container d-flex gap-3 mt-5 p-0 anchor align-items-center">
                    <h6 class="m-0">or login with :</h6>
                    <a href="/auth/facebook" class="bg-primary"><i class="fa-brands fa-facebook"></i></a>
                    <a href="/auth/google" class="bg-danger"><i class="fa-brands fa-google"></i></a>
                </div>
            </div>
        </div>


        <div id="signup">
            <div class="signup-right  p-5">
                <h1 style="font-weight: 700;">SIGN UP </h1>
                <form action="/register" method="post" class="d-flex flex-column gap-3 mt-4">
                    <div class="form-group " style="position: relative;">
                        <div class="d-flex align-items-center">
                            <label for="username"><i class="fa-solid fa-user"></i></label>
                            <input type="text" name="username" class="usernum" placeholder="Username" required>
                        </div>
                        <small class="mx-3 m-0 username-suggestion" style="position: absolute; font-size: 11px;display: none;"></small>
                    </div>
                    <div class="form-group d-flex align-items-center">
                        <label for="name"><i class="fa-solid fa-envelope"></i></label>
                        <input type="text" name="email" id="" placeholder="Email" required>
                    </div>
                    <div class="form-group d-flex align-items-center">
                        <label for="name"><i class="fa-solid fa-user"></i></label>
                        <input type="text" name="fullname" id="" placeholder="firstname" required>
                    </div>
                    
                    <div class="form-group d-flex align-items-center">
                        <label for="password"><i class="fa-solid fa-lock"></i></label>
                        <input type="password" name="password" id="" placeholder="password" class="password">
                    </div>
                    <div class="form-group d-flex align-items-center">
                        <label for="confirmpassword"><i class="fa-solid fa-lock"></i></label>
                        <input type="password" name="confirmpassword" id="" placeholder="confirm password" class="password" required>
                    </div>
                    <div class="container d-flex gap-2 p-0 ">
                        <input type="checkbox" name="" id="qwe" style="width: 15px;" >
                        <label for="show password"> show password</label>
                    </div>

                    <button class="mt-4"> register</button>
                </form>
            </div>
            <div class="signup-left w-50 d-flex align-items-center flex-column justify-content-center gap-5" style="overflow: hidden;">
                <img src="https://colorlib.com/etc/regform/colorlib-regform-7/images/signup-image.jpg" alt="">
                <button class="btn text-dark" style="background: none;" id="register">already have an account <hr style="margin: 0; opacity: 1;"></button>

            </div>
            
        </div>
    </section>
<script>


function myFunction() {
    var x = document.getElementById("loginpassword");
    if (x.type === "password") {
        x.type = "text";
    } else {
        x.type = "password";
    }
}

 document.querySelector(".usernum").addEventListener("change",function(){
        var small = document.querySelector(".username-suggestion")
       if(this.value.trim().length >0){
        axios.get(`/check/${this.value}`).then(function(res){
            if (res.data == null) {
                small.style.display="block"
                small.style.color="green";
                small.textContent = "this user name is available."
            }else{
                small.style.display="block"
                small.style.color="red";
                small.textContent = "this user name is already taken."

            }
        })
       }else{
        small.style.display="none"
       }
})
document.querySelector(".usernum1").addEventListener("change",function(){
        var small = document.querySelector(".username-suggestion1")
       if(this.value.trim().length >0){
        axios.get(`/check/${this.value}`).then(function(res){
            if (res.data == null) {
                small.style.display="block"
                small.style.color="red";
                small.textContent = "Account Not Found !"
            }else{
                small.style.display="none"
            }
        })
       }else{
        small.style.display="none"
       }
})
</script>

    <%- include('partials/footer.ejs') %>