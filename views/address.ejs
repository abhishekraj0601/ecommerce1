<%- include('partials/header.ejs') %>
<section style="height: 80px; background: royalblue;"></section>
<section id="account">
    <div class="account-left ">
        <div class="profile d-flex bg-white p-2 gap-3 align-items-center" >
            <img src="../images/uploads/<%=user.photo%>" alt="" style="height: 50px; width: 50px; border-radius: 50%;">
            <div style=" overflow: hidden;">
                <h6><%=user.fullname%></h6>
                <h5 style="text-overflow: ellipsis; overflow: hidden;"><%=user.username%></h5>
            </div>
        </div>
    
        <div class="account-head border-bottom bg-white mt-2 d-flex flex-column ">
            <h5 class="text-muted d-flex align-items-center gap-4 m-3"> <i class="fa-solid fa-user text-primary"></i> account setting</h5>
            <div class="d-flex flex-column m-0 p-0" >
                <a href="/account" class="py-2 px-5 dropdown-item "  >
                    profile information
                </a>
                <a href="/address" class="p-2 px-5 dropdown-item text-primary" style="background: rgb(240, 251, 255); font-weight: 700;" >
                    manage address
                </a>
                <a href="/security" class="p-2 px-5 dropdown-item" >
                    security & password
                </a>
            </div>
        </div>
    
    
        <div class="border-bottom bg-white p-3">
            <a href="/logout" class="d-flex align-items-center gap-4"><i class="fa-solid fa-right-from-bracket" style="font-size: 20px;"></i> <h5 class="text-muted">logout</h5></a>
        </div>
    
      </div>
    

  <div class="account-right border p-4">
    <h5>manage address</h5>
    <button class="btn text-primary border w-100 text-start p-3 my-3" id="address-btn" > <i class="fa-solid fa-plus"></i> add new address</button>

    <div id="address-bar"  class="border">
        <form action="/useraddress" method="post" class="d-flex flex-wrap">
            <div  class="px-4 p-0 mt-3 d-flex flex-wrap gap-5 w-100">
                <div class="form-check d-flex gap-3 align-items-center">
                  <input class="form-check-input"  type="radio" name="place" value="home" id="flexRadioDefault1">
                  <label class="form-check-label" style="font-size: 15px;" for="flexRadioDefault1">
                    Home
                  </label>
                </div>
                <div class="form-check d-flex gap-3 align-items-center">
                  <input class="form-check-input"  type="radio" name="place" value="office" id="flexRadioDefault2" >
                  <label class="form-check-label" style="font-size: 15px;" for="flexRadioDefault2">
                    Office
                  </label>
                </div>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="username" id="" placeholder="name" required>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="flate" id="" placeholder="flate number" required>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="area" id="" placeholder="area" required>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="city" id="" placeholder="city" required>
            </div>
            
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="state" id="" placeholder="state" required>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="text" name="country" id="" placeholder="country" required>
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="tel" name="number" id="" placeholder="Mobile Number" inputmode="numeric" required >
            </div>
            <div class="form-group d-flex align-items-center m-auto">
                <input type="number" name="pincode" id="" placeholder="pincode" inputmode="numeric" required>
            </div>
            <br>
            <br>
            <div class="w-100 mx-5 m-5">
                <button class="btn btn-info" type="submit">save address</button>
                <button class="btn btn-danger mx-5" onclick="adress()">cencle</button>
            </div>
        </form>
    </div>

    <%user.address.forEach(function(elem){ %>
        <div class="border  p-4">
            <div class="d-flex justify-content-between">
                <h6 class=" bg-secondary text-white p-1" style="border-radius: 5px;"><%=elem.place%></h6>
                <a href="/addressdelete/<%=user.address.indexOf(elem)%>" title="delete address"><i class="fa-solid fa-trash"></i></a>
            </div>
            <h6><%=elem.username%></h6>
            <p class="m-0"><%=elem.flate_no%>, <%=elem.area%>, <%=elem.city%>, <%=elem.state%>, <%=elem.country%>, <%=elem.pincode%></p>
            <p class="m-0">Mobile Number : <%=elem.number%></p>

        </div>
     <%})%>
  </div>

</section>

<script>
    var address_btn = document.getElementById("address-btn") 
    var address_bar = document.getElementById("address-bar") 

function adress(){
    address_bar.style.display="none"

}
    address_btn.addEventListener("click",function(){
        address_bar.style.display="block"

    })
</script>

<%- include('partials/footer.ejs') %>